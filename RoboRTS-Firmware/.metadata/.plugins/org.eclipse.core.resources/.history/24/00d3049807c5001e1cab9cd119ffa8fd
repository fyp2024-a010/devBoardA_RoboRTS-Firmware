/* Includes ------------------------------------------------------------------*/
#include "FreeRTOS.h"
#include "task.h"
#include "main.h"
#include "cmsis_os.h"
#include "init.h"

osThreadId_t imuHandle;
const osThreadAttr_t some_attributes = {
  .name = "some",
  .stack_size = 128 * 4,
  .priority = (osPriority_t) osPriorityNormal,
};

void app_init(void);
void imu_t(void *argument);

/**
  * @brief  FreeRTOS initialization
  * @param  None
  * @retval None
  */
void app_init(void) {
  someHandle = osThreadNew(some_t, NULL, &some_attributes);
}

void imu_init(void){
	imuHandle = osThreadNew(some_t, NULL, &some_attributes);
}

/* USER CODE BEGIN Header_StartDefaultTask */
/**
  * @brief  Function implementing the defaultTask thread.
  * @param  argument: Not used
  * @retval None
  */
/* USER CODE END Header_StartDefaultTask */
void some_t(void *argument)
{
  /* init code for USB_DEVICE */
//  MX_USB_DEVICE_Init();
  /* USER CODE BEGIN StartDefaultTask */
  /* Infinite loop */
  for(;;)
  {
	  HAL_GPIO_TogglePin(LED_B_GPIO_Port, LED_B_Pin);
    osDelay(1000);
  }
  /* USER CODE END StartDefaultTask */
}



